#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace GeneratorBase.MVC.Views.T_Schedule
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using GeneratorBase.MVC;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/T_Schedule/CalendarView.cshtml")]
    public partial class CalendarView : GeneratorBase.MVC.CustomWebViewPage<List<Tuple<string, long>>>
    {
        public CalendarView()
        {
        }
        public override void Execute()
        {
            
            #line 2 "..\..\Views\T_Schedule\CalendarView.cshtml"
  
    var commonObj = GeneratorBase.MVC.Models.CommonFunction.Instance;

            
            #line default
            #line hidden
WriteLiteral("\r\n<div");

WriteLiteral(" class=\"row center-block\"");

WriteLiteral(" style=\"width:100% !important;\"");

WriteLiteral(" id=\"printCalendar\"");

WriteLiteral(">\r\n");

WriteLiteral("    ");

            
            #line 6 "..\..\Views\T_Schedule\CalendarView.cshtml"
Write(Scripts.Render("~/bundles/fullcalendarjs"));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

WriteLiteral("    ");

            
            #line 7 "..\..\Views\T_Schedule\CalendarView.cshtml"
Write(Styles.Render("~/Content/fullcalendar.css"));

            
            #line default
            #line hidden
WriteLiteral("\r\n    <script>\r\n        $(document).ready(function () {\r\n            var minTime " +
"= \'\';\r\n            var maxTime = \'\';\r\n            var isslot = false;\r\n         " +
"   var showAll = false;\r\n            $(\'#calendar\').fullCalendar({\r\n            " +
"    header: {\r\n                    left: \'printButton,toggle\',\r\n                " +
"    center: \'prev,title,next\',\r\n                   // right: \'month,agendaWeek,b" +
"asicWeek,agendaDay,listDay,listWeek,listMonth\',\r\n                    right: \'age" +
"ndaDay,agendaWeek,basicWeek,month,listDay,listWeek,listMonth\'\r\n                }" +
",\r\n                customButtons: {\r\n                    printButton: {\r\n       " +
"                 text: \"Print\",\r\n                        click: function () {\r\n " +
"                           printDiv();\r\n                        }\r\n             " +
"       },\r\n                    slot: {\r\n                        text: \"Slot\",\r\n " +
"                       click: function () {\r\n                            $(\'#cal" +
"endar\').fullCalendar(\'option\', \'minTime\', \'00:00:00\');\r\n                        " +
"    $(\'#calendar\').fullCalendar(\'option\', \'maxTime\', \'24:00:00\');\r\n             " +
"               $(\'#calendar\').fullCalendar(\'option\', \'contentHeight\', \'default\')" +
";\r\n                            $(\'#calendar\').fullCalendar(\'option\', \'scrollTime" +
"\', \'09:00:00\');\r\n                        }\r\n                    },\r\n            " +
"        toggle: {\r\n                        text: \"All Events\",\r\n                " +
"        click: function () {\r\n                            if (!showAll) {\r\n     " +
"                           showAll = true;\r\n                                if (" +
"$(\"a[extra=extra]\").length > 0 || $(\"tr[extra=extra]\").length > 0) {\r\n          " +
"                          $(\"a[extra=extra]\").each(function () {\r\n              " +
"                          $(this).toggle();\r\n                                   " +
" });\r\n                                    $(\"tr[extra=extra]\").each(function () " +
"{\r\n                                        $(this).toggle();\r\n                  " +
"                  });\r\n                                    $(\"tr.fc-list-heading" +
"\").each(function () {\r\n                                        next = $(this).ne" +
"xtAll(\':visible:first\');\r\n                                        if (next != un" +
"defined && next.attr(\"class\") == \'fc-list-heading\') {\r\n                         " +
"                   $(this).hide();\r\n                                        }\r\n " +
"                                       else {\r\n                                 " +
"           if (next.length == 0)\r\n                                              " +
"  $(this).hide();\r\n                                            else\r\n           " +
"                                     $(this).show();\r\n                          " +
"              }\r\n                                    });\r\n                      " +
"              return false;\r\n                                }\r\n                " +
"                \r\n                                var events1 = [];\r\n\t\t\t\t\t\t\t\tvar" +
" currentdate = $(\"#calendar\").fullCalendar(\'getDate\');\r\n                        " +
"        $.ajax({\r\n                                    url: \'");

            
            #line 67 "..\..\Views\T_Schedule\CalendarView.cshtml"
                                     Write(Url.Action("getAllMeetingEvents", "T_Schedule"));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                    type: \"POST\",\r\n                          " +
"          async: false,\r\n                                    data: {\r\n\t\t\t\t\t\t\t cu" +
"rrentDate: moment(currentdate.format()).format(\"MM/DD/YYYY\"),\r\n\t\t\t\t\t\t \t currentV" +
"iew: $(\"#calendar\").fullCalendar(\'getView\').name\r\n\t\t\t\t\t\t\t\t\t },\r\n                " +
"                    success: function (jsonObj) {\r\n                             " +
"           for (i in jsonObj) {\r\n                                            if " +
"(jsonObj[i].StartTime != undefined) {\r\n                                         " +
"       events1.push({\r\n                                                    title" +
": jsonObj[i].Title,\r\n                                                    start: " +
"Datechange(jsonObj[i].StartTime),\r\n                                             " +
"       end: Datechange(jsonObj[i].EndTime),\r\n                                   " +
"                 tooltip: jsonObj[i].Title,\r\n                                   " +
"                 id: jsonObj[i].Id,\r\n                                           " +
"         iscancelled: jsonObj[i].IsCancelled,\r\n                                 " +
"                   scheduleid: jsonObj[i].ScheduleID,\r\n                         " +
"                           entityname: jsonObj[i].EntityName,\r\n\r\n               " +
"                                 });\r\n                                          " +
"  }\r\n                                        }\r\n\t\t\t\t\t\t\t\t\t\t $(\'#calendar\').fullCa" +
"lendar(\'addEventSource\', events1);\r\n                                    },\r\n    " +
"                                error: function (jqXHR, textStatus, errorThrown)" +
" {\r\n                                    }\r\n                                });\r\n" +
"                            }\r\n                            else {\r\n             " +
"                   showAll = false;\r\n\t\t\t\t\t\t\t\t$(\'#calendar\').fullCalendar(\'remove" +
"Events\');\r\n                                $(\'#calendar\').fullCalendar(\'refetchE" +
"vents\');\r\n                            }\r\n                        }\r\n            " +
"        }\r\n                },\r\n                allDaySlot: false,\r\n             " +
"   scrollTime: \'09:00:00\',\r\n                defaultView: \'basicWeek\',\r\n         " +
"       defaultDate: $.datepicker.formatDate(\'yy/mm/dd\', new Date()),\r\n          " +
"      data: \"{}\",\r\n                contentType: \"application/json; charset=utf-8" +
"\",\r\n                dataType: \"json\",\r\n                navLinks: true, // can cl" +
"ick day/week names to navigate views\r\n                editable: true,\r\n         " +
"       eventLimit: false, // allow \"more\" link when too many events\r\n           " +
"     slotDuration: \'00:15:00\',\r\n                slotEventOverlap: false,\r\n      " +
"          eventOverlap: false,\r\n                allDaySlot: false,\r\n            " +
"    nowIndicator: true,\r\n                buttonText: {\r\n                  \r\n    " +
"                month: \'Month\',\r\n                    print: \'Print\',\r\n          " +
"          agendaWeek: \'Week\',\r\n                    basicWeek: \'Basic Week\',\r\n   " +
"                 agendaDay: \'Day\',\r\n                    listMonth: \'Month List\'," +
"                   \r\n                    listWeek: \'Week List\',\r\n               " +
"     listDay: \'Day List\',\r\n                },\r\n                events: function " +
"(start, end, timezone, callback) {\r\n                    var events = [];\r\n\t\t\t\t\tv" +
"ar currentdate = $(\"#calendar\").fullCalendar(\'getDate\');\r\n                    $." +
"ajax({\r\n                        url: \'");

            
            #line 134 "..\..\Views\T_Schedule\CalendarView.cshtml"
                         Write(Url.Action("getRegisteredEvents", "T_Schedule"));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                        type: \"POST\",\r\n                        async: false,\r" +
"\n                         data: {\r\n\t\t\t\t\t\t\t currentDate: moment(currentdate.forma" +
"t()).format(\"MM/DD/YYYY\"),\r\n\t\t\t\t\t\t \t currentView: $(\"#calendar\").fullCalendar(\'g" +
"etView\').name\r\n                        },\r\n                        success: func" +
"tion (jsonObj) {\r\n                            for (i in jsonObj) {\r\n            " +
"                    if (jsonObj[i].StartTime != undefined) {\r\n                  " +
"                  if (minTime.length == 0)\r\n                                    " +
"    minTime = jsonObj[i].StartTime;\r\n                                    else\r\n " +
"                                       if (jsonObj[i].StartTime < minTime)\r\n    " +
"                                        minTime = jsonObj[i].StartTime;\r\n       " +
"                             events.push({\r\n                                    " +
"    title: jsonObj[i].Title,\r\n                                        start: Dat" +
"echange(jsonObj[i].StartTime),\r\n                                        end: Dat" +
"echange(jsonObj[i].EndTime),\r\n                                        tooltip: j" +
"sonObj[i].Title,\r\n                                        id: jsonObj[i].Id,\r\n  " +
"                                      iscancelled: jsonObj[i].IsCancelled,\r\n    " +
"                                    scheduleid: jsonObj[i].ScheduleID,\r\n        " +
"                                entityname: jsonObj[i].EntityName\r\n             " +
"                       });\r\n                                }\r\n                 " +
"           }\r\n\r\n                        },\r\n                        error: funct" +
"ion (jqXHR, textStatus, errorThrown) {\r\n                        }\r\n             " +
"       });\r\n                    if (minTime.length > 0) {\r\n                     " +
"   try {\r\n                            $(\'#calendar\').fullCalendar(\'option\', \'scr" +
"ollTime\', DatechangeSlotMin(minTime) + \":00\");\r\n                        } catch " +
"(e) { }\r\n\r\n                    }\r\n                    else {\r\n                  " +
"      $(\'#calendar\').fullCalendar(\'option\', \'contentHeight\', \'default\');\r\n      " +
"                  $(\'#calendar\').fullCalendar(\'option\', \'scrollTime\', \'09:00:00\'" +
");\r\n                    }\r\n                    callback(events);\r\n              " +
"  },\r\n\t\t\t\tdayRender: function (date, cell) {\r\n                    var today = ne" +
"w Date();\r\n                    var end = new Date();                \r\n          " +
"          end.setDate(today.getDate()-1);                 \r\n                    " +
"if( date < end) {\r\n                        cell.css(\"background-color\", \"#D3D3D3" +
"\");\r\n                    } // this is for previous date \r\n                },\r\n  " +
"              eventAfterAllRender: function (event, element) {\r\n                " +
"    if (event.name == \'listMonth\' || event.name == \'listWeek\' || event.name == \'" +
"listDay\') {\r\n                        $(\".fc-list-item\").each(function () {\r\n    " +
"                        var attr = $(this).attr(\"style\");\r\n                     " +
"       $(this).attr(\"style\", attr + \"color:black;\");\r\n                        })" +
"\r\n                    }\r\n                    if (!showAll) {\r\n                  " +
"      if ($(\"a[extra=extra]\").length > 0 || $(\"tr[extra=extra]\").length > 0) {\r\n" +
"                            showAll = false;\r\n                            $(\"a[e" +
"xtra=extra]\").each(function () {\r\n                                $(this).toggle" +
"();\r\n                            });\r\n                            $(\"tr[extra=ex" +
"tra]\").each(function () {\r\n                                $(this).toggle();\r\n  " +
"                          });\r\n                            $(\"tr.fc-list-heading" +
"\").each(function () {\r\n                                next = $(this).nextAll(\':" +
"visible:first\');\r\n                                if (next != undefined && next." +
"attr(\"class\") == \'fc-list-heading\') {\r\n                                    $(thi" +
"s).hide();\r\n                                }\r\n                                e" +
"lse {\r\n                                    if (next.length == 0)\r\n              " +
"                          $(this).hide();\r\n                                    e" +
"lse\r\n                                        $(this).show();\r\n                  " +
"              }\r\n                            });\r\n                        }\r\n   " +
"                 }\r\n\t\t\t\t\t else {\r\n                        $(\'.fc-toggle-button\')" +
".addClass(\'fc-state-down\')\r\n                    }\r\n\t\t\t\t\tif (\'");

            
            #line 219 "..\..\Views\T_Schedule\CalendarView.cshtml"
                    Write(ViewData["HostingEntity"]);

            
            #line default
            #line hidden
WriteLiteral("\'.length == 0) {\r\n                        $(\".fc-toggle-button\").hide();\r\n       " +
"             }\r\n\r\n                },               \r\n                eventRender" +
": function (event, element) {\r\n                    if (event.id == \'0\' && event." +
"scheduleid == \'0\') {\r\n                        element.css(\'background-color\', \'#" +
"000\');\r\n                        element.css(\'style\', \'border:1px solid #000\');\r\n" +
"                        element.attr(\'slotId\', event.entityname);\r\n             " +
"           if (event.filterid != undefined) {\r\n                            var c" +
"olor = getColor(event.filterid);\r\n                            element.css(\'backg" +
"round-color\', color);\r\n                            element.attr(\'title\', event.t" +
"itle);\r\n                        }\r\n                    }\r\n                    el" +
"se {\r\n                        element.attr(\'title\', event.tooltip);\r\n           " +
"             if (event.iscancelled) {\r\n                            element.css(\'" +
"background-color\', \'red\');\r\n                        }\r\n                        e" +
"lse {\r\n                            var color = getColor(event.scheduleid);\r\n    " +
"                        if () {\r\n                                element.css(\'ba" +
"ckground-color\', color);\r\n                            }\r\n                       " +
"     else {\r\n                                element.attr(\"extra\", \"extra\")\r\n   " +
"                             element.attr(\"style\", \"opacity: 0.4;filter:alpha(op" +
"acity=40);background-color: \" + color + \";\")\r\n                            }\r\n   " +
"                     }\r\n                    }\r\n                },\r\n             " +
"   eventClick: function (calEvent, jsEvent, view) {\r\n                    $(this)" +
".css(\'border-color\', \'red\');\r\n                    OpenPopUpEntity(\'PopupBulkOper" +
"ation\', \'Edit Event - \' + calEvent.title, \'dvPopupBulkOperation\', \'");

            
            #line 254 "..\..\Views\T_Schedule\CalendarView.cshtml"
                                                                                                                Write(Url.Action("EventsUpdate", "T_Schedule", new
                            {
                                id = "_id",
                                EntityName="_entityname"
                            }));

            
            #line default
            #line hidden
WriteLiteral(@"'.replace(""_id"", calEvent.id).replace(""_entityname"", calEvent.entityname)
                )
                },
                dayClick: function (date, jsEvent, view) {
                    if (jsEvent.target.classList.contains('fc-bgevent')) {
                        var slotid = $(jsEvent.target).attr('slotid');
                        OpenPopUpEntity('addPopup', 'Event', 'dvPopup', '");

            
            #line 264 "..\..\Views\T_Schedule\CalendarView.cshtml"
                                                                    Write(Html.Raw(Url.Action("CreateEvent", "T_Schedule", new { startDate = "_startDate", slotID = "_slotId" })));

            
            #line default
            #line hidden
WriteLiteral("\'.replace(\'_slotId\', slotid).replace(\'_startDate\', date._d.toLocaleDateString()))" +
";\r\n                    }\r\n                    else {\r\n                        Op" +
"enPopUpEntity(\'addPopup\', \'Event\', \'dvPopup\', \'");

            
            #line 267 "..\..\Views\T_Schedule\CalendarView.cshtml"
                                                                    Write(Html.Raw(Url.Action("CreateEvent", "T_Schedule", new { startDate = "_startDate", slotID = "_slotId" })));

            
            #line default
            #line hidden
WriteLiteral(@"'.replace('_slotId', '0').replace('_startDate', date._d.toLocaleDateString()));
                    }
                }
            });
        });
        function Datechange(Caldate) {
            var date = new Date(parseInt(Caldate.substr(6)));
            localDateString = moment(date.toString()).format(""MM/DD/YYYY hh:mm A"");
            return localDateString
        }
        function DatechangeSlot(Caldate) {
            var date = new Date(parseInt(Caldate.substr(6)));
            localDateString = moment(date.toString()).format(""HH:mm"");
            return localDateString;
        }
        function DatechangeSlotMin(Caldate) {
            var date = new Date(parseInt(Caldate.substr(6)));
            var m = (((date.getMinutes() + 7.5) / 15 | 0) * 15) % 60;
            var h = ((((date.getMinutes() / 105) + .5) | 0) + date.getHours()) % 24;
            date.setMinutes(m, 0, 0);
            date.setHours(h, m, 0, 0);
            localDateString = moment(date.toString()).format(""HH:mm"");
            return localDateString;
        }
        function getColor(num) {
           // var letters = (num * 621831).toString();
           // var color = '#';
          //  for (var i = 0; i < 6; i++) {
          //      color += letters[i];
          //  }
          //  return color;
		  return ""#edf5fa""
        }
        //
    </script>
    <center>
        <div");

WriteLiteral(" id=\"calendar\"");

WriteLiteral(" style=\"padding:10px 0px 10px 0px;\"");

WriteLiteral(@">
        </div>
    </center>
</div>
<script>
    $(document).ready(function () {
        $('a[data-toggle=""tab""]').on('shown.bs.tab', function (e) {
            $('#calendar').fullCalendar('render');
            $('.fc-agendaWeek-button').click();
        });
        if ('");

            
            #line 313 "..\..\Views\T_Schedule\CalendarView.cshtml"
        Write(ViewData["HostingEntity"]);

            
            #line default
            #line hidden
WriteLiteral(@"'.length == 0) {
            $("".fc-toggle-button"").hide();
        }
    });
    function printDiv() {
        var contents = $(""#printCalendar"").html();
        var frame1 = $('<iframe />');
        frame1[0].name = ""frame1"";
        frame1.css({ ""position"": ""absolute"", ""top"": ""-1000000px"" });
        $(""body"").append(frame1);
        var frameDoc = frame1[0].contentWindow ? frame1[0].contentWindow : frame1[0].contentDocument.document ? frame1[0].contentDocument.document : frame1[0].contentDocument;
        frameDoc.document.open();
        frameDoc.document.write('<html><head><title>DIV Contents</title>');
        frameDoc.document.write('</head><body>');
        frameDoc.document.write('<link href=""");

            
            #line 327 "..\..\Views\T_Schedule\CalendarView.cshtml"
                                        Write(commonObj.getBaseUri());

            
            #line default
            #line hidden
WriteLiteral(@"/Content/fullcalendar.print.min.css"" rel=""stylesheet""/>');
        frameDoc.document.write(contents);
        frameDoc.document.write('</body></html>');
        frameDoc.document.close();
        setTimeout(function () {
            window.frames[""frame1""].focus();
            window.frames[""frame1""].print();
            frame1.remove();
        }, 500);
    }
</script>
");

        }
    }
}
#pragma warning restore 1591
